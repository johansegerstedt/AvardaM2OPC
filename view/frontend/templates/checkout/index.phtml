<?php /** @var Digia\AvardaCheckout\Block\Checkout $block */ ?>
<?php
  $objectManager = \Magento\Framework\App\ObjectManager::getInstance();
  $getLocale = $objectManager->get('Magento\Framework\Locale\Resolver');
  $config = [
    "baseMediaUrl" => $block->getBaseMediaUrl(),
    "baseUrl" => $block->getBaseUrl(),
    "countryId" => $block->getCountryId(),
    "customerId" => $block->getCustomerId(),
    "hasItems" => $block->hasItems(),
    "magentoLocale" => $getLocale->getLocale(),
    "maskedQuoteId" => $block->getMaskedQuoteId(),
    "quoteId" => $block->getQuoteId(),
  ];
?>

<div id="checkout-root"></div>

<script type="text/javascript">
require.config(({
  shim: {
    AvardaCheckOutClient: {
      exports: 'AvardaCheckOutClient'
    }
  },
  paths: {
    AvardaCheckOutClient:<?php echo json_encode($block->getCheckOutClientScriptPath()); ?>
  }
}));
require(['avardaCheckout'], function(avardaCheckout) {
  avardaCheckout.execute(<?php echo json_encode($config); ?>);
});
</script>
